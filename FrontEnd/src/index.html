<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8"/>
    <meta content="IE=edge" http-equiv="X-UA-Compatible"/>
    <meta content="width=device-width, initial-scale=1.0" name="viewport"/>
    <link href="assets/css/bootstrap.css" rel="stylesheet"/>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.7.2/font/bootstrap-icons.css" rel="stylesheet"/>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:ital,wght@0,300;0,400;1,300;1,400&display=swap" rel="stylesheet">
    <title>JavaEE POS</title>
</head>
<body>
<header>
    <!-- NavBar -->
    <nav class="navbar navbar-expand-lg navbar-dark" style="background-color: red">
        <div class="container-fluid">
            <a class="navbar-brand" id="home-clicks">
                <img alt="PosLab Logo" height="40" src="assets/img/icon.png" width=""/>
            </a>
            <div class="collapse navbar-collapse justify-content-between" id="navbarNav">
                <ul class="navbar-nav" style="font-family: 'Roboto', sans-serif;">
                    <li class="nav-item">
                        <a class="nav-link  " id="home-click" type="button">Home</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link  " id="order-click" type="button">Order</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link  " id="customer-click" type="button">Customer</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link  " id="item-click" type="button">Items</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link  " id="orderDetails-click" type="button">Order Details</a>
                    </li>
                </ul>

                    <div class="navbar-nav d-flex">
                        <a class="nav-link active font-monospace fw-bolder" id="Date">2021-01-20</a>
                        <a class="nav-link active font-monospace fw-bolder" id="Time">08.00</a>
                    </div>

            </div>
        </div>
    </nav>

</header>
<main>
    <!--Place Order-->
    <section class="container-fluid " style="display: block" id="order">
        <div class="row align-items-center">
            <!-- invoice -->
            <div class="col-12 col-lg-4">
                <div class="modal-dialog">
                    <div class="modal-content">
                        <div class="modal-header justify-content-center bg-warning">
                            <h4 class="modal-title fw-bold">Invoice Details</h4>
                        </div>
                        <div class="modal-body">
                            <div class="row">
                                <div class="col">
                                    <label class="form-label fw-bold" for="oId">Order ID:</label>
                                    <input class="form-control" id="oId" placeholder="O001" type="text"/>
                                </div>
                                <div class="col">
                                    <label class="form-label fw-bold" for="iDate">Date:</label>
                                    <input class="form-control" id="iDate" type="date"/>
                                </div>
                            </div>
                            <div class="row mt-3">
                                <div class="col">
                                    <label class="form-label fw-bold" for="idCmb">Customer ID:</label>
                                    <select class="form-select" id="idCmb">
                                        <option disabled selected value="">Select Customer ID</option>
                                        <!-- <option value="1">C002</option>
                                             <option value="2">C002</option>
                                            <option value="3">C003</option> -->
                                    </select>
                                </div>
                                <div class="col">
                                    <label class="form-label fw-bold" for="inCusName">Customer Name:</label>
                                    <input class="form-control" id="inCusName" type="text"/>
                                </div>
                            </div>
                            <div class="row mt-3 mb-3">
                                <div class="col">
                                    <label class="form-label fw-bold" for="inCusSalary">Salary:</label>
                                    <input class="form-control" id="inCusSalary" type="number"/>
                                </div>
                                <div class="col">
                                    <label class="form-label fw-bold" for="inCusAddress">Address:</label>
                                    <input class="form-control" id="inCusAddress" type="text"/>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <!-- Item Select -->
            <div class="col-12 col-md-6 col-lg-4">
                <div class="modal-dialog">
                    <div class="modal-content">
                        <div class="modal-header justify-content-center bg-warning">
                            <h4 class="modal-title fw-bold">Item Select</h4>
                        </div>
                        <div class="modal-body">
                            <div class="row">
                                <div class="col">
                                    <label class="form-label fw-bold" for="itemIdCmb">Item:</label>
                                    <select class="form-select" id="itemIdCmb">
                                        <option disabled selected value="">Select Item ID</option>
                                        <!-- <option selected>I001</option>
                                            <option value="1">I001</option>
                                            <option value="2">I002</option>
                                            <option value="3">I003</option> -->
                                    </select>
                                </div>
                                <div class="col">
                                    <label class="form-label fw-bold" for="itemNameO">Item Name:</label>
                                    <input class="form-control" id="itemNameO" type="text"/>
                                </div>
                            </div>
                            <div class="row mt-3">
                                <div class="col">
                                    <label class="form-label fw-bold" for="qtyOnHandO">Qty On Hand:</label>
                                    <input class="form-control" id="qtyOnHandO" type="number"/>
                                </div>
                                <div class="col">
                                    <label class="form-label fw-bold" for="priceO">Price:</label>
                                    <input class="form-control" id="priceO" type="text"/>
                                </div>
                            </div>
                            <div class="row mt-3">
                                <div class="col">
                                    <label class="form-label fw-bold" for="oQty">Order Quantity:</label>
                                    <input class="form-control" id="oQty" type="number"/>
                                </div>
                            </div>
                            <div class="row mt-3 mb-1">
                                <button class="btn btn-primary" id="btnAddToCart" type="button">
                                    Add Item
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <!-- Total Select -->
            <div class="col-12 col-md-6 col-lg-4">
                <div class="modal-dialog">
                    <div class="modal-content">
                        <div class="modal-body">
                            <div class="row mt-3">
                                <div class="col">
                                    <p class="h2 d-inline">Total :</p>
                                    <p class="h2 d-inline" id="lblFullTotal">0 LKR</p>
                                </div>
                            </div>
                            <div class="row mt-3">
                                <div class="col">
                                    <p class="h2 d-inline">SubTotal :</p>
                                    <p class="h2 d-inline" id="lblSubTotal">0 LKR</p>
                                </div>
                            </div>
                            <div class="row mt-3">
                                <div class="col">
                                    <label class="form-label fw-bold" for="cash">Cash:</label>
                                    <input class="form-control" id="cash" placeholder="5000" type="number"/>
                                </div>
                                <div class="col">
                                    <label class="form-label fw-bold" for="discount">Discount:</label>
                                    <input class="form-control" id="discount" placeholder="10" type="number"/>
                                </div>
                            </div>
                            <div class="row mt-3">
                                <div class="col">
                                    <label class="form-label fw-bold" for="balanceO">Balance:</label>
                                    <input class="form-control" id="balanceO" type="text"/>
                                </div>
                            </div>
                            <div class="row mt-3 mb-1">
                                <button class="btn btn-success" id="btnPurchase" type="button">
                                    Purchase
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="row">
            <div class="table-responsive" style="height: 40vh">
                <table class="table table-striped">
                    <thead class="" style="background-color: #f39c12">
                    <tr>
                        <th>Item Code</th>
                        <th>Item Name</th>
                        <th>Price</th>
                        <th>Qty</th>
                        <th>Total</th>
                    </tr>
                    </thead>
                    <tbody id="tbodyOrder">

                    </tbody>
                </table>
            </div>
        </div>
    </section>
    <!-- Add Item -->
    <section class="container m-0 "  id="item" style="width: 100vw;display: none">
        <h1 class="text-center mt-2 position-relative">ADD ITEM</h1>
        <div class="d-flex " style="width: 98vw">
            <div class="w-75 m-5">
                    <div class="p-3 m-3">
                        <div class="input-group">
                            <input aria-describedby="btn-item-search" aria-label="Recipient's username" class="form-control" id="txt-item-search" placeholder="Search Item" type="text"/>
                            <button class="btn btn-success" id="btn-item-search" type="button"><i class="bi bi-search m-2"></i>Search</button>
                        </div>
                        <p><small>Search Items</small></p>
                    </div>
                    <form id="addItemForm">
                        <div class="mb-3">
                            <label class="form-label" for="itemCode">Item ID</label>
                            <input class="form-control" id="itemCode" name="itemCode" type="text"/>
                            <small>* Item ID is a required field, Pattern I0001</small>
                        </div>
                        <div class="mb-3">
                            <label class="form-label" for="itemName">Item Name</label>
                            <input class="form-control" id="itemName" name="itemName" type="text"/>
                            <small>* Item Name is required field, Min 5 & Max 10</small>
                        </div>
                        <div class="mb-3">
                            <label class="form-label" for="itemQty">Item Qty</label>
                            <input class="form-control" id="itemQty" name="itemQty" type="text"/>
                            <small>* Item QTY is a required field, Min 5 & Max 10</small>
                        </div>
                        <div class="mb-3">
                            <label class="form-label" for="itemPrice">Item Price</label>
                            <input class="form-control" id="itemPrice" name="itemPrice" type="text"/>
                            <small>* Item Price is a required field, Min 5 & Max 10</small>
                        </div>
                        <button class="btn btn-primary mt-2"
                                id="addItem"
                                type="button">
                            <i class="bi bi-bag-plus m-2"></i>Add Item
                        </button>
                        <button class="btn btn-danger mt-2" id="clear-btn-item" type="button">
                            <i class="bi bi-backspace m-2"></i>Clear
                        </button>
                    </form>

            </div>
            <div class="w-100 m-5 ">
                <div class="row align-items-center pt-3">
                    <div class="col-12 mt-2">
                    <div class="table-responsive" style="height: 55vh">
                        <table class="table table-light table-striped table table-hover">
                            <thead style="position: sticky;top: 0">
                            <tr>
                                <th>Item ID</th>
                                <th>Item Name</th>
                                <th>QTY</th>
                                <th>Price</th>
                            </tr>
                            </thead>
                            <tbody id="itemTblBody">

                            </tbody>
                        </table>
                    </div>
                </div></div>

            </div>
        </div>
    </section>
    <!-- Add Customer Model Start -->
    <section class="container m-0 " id="customer" style="width: 100vw;display: none">
        <h1 class="text-center mt-2">ADD CUSTOMER</h1>
        <div class="d-flex" style="width: 98vw">
            <div class="w-75 m-5 ">
                <div class="p-3 m-3">
                    <div class="row g-3 align-items-center pb-3 justify-content-between">
                        <div class="">
                            <div class="input-group mb-3" style="height: 10px">
                                <input aria-describedby="button-addon2" aria-label="Recipient's username" class="form-control"
                                       id="txt-cus-search"
                                       placeholder="Search Customer" type="text"/>
                                <button class="btn btn-success" id="button-cus-search" type="button">
                                    <i class="bi bi-search m-2"></i>Search
                                </button>
                            </div>
                        </div>
                        <p><small>Search Items</small></p>
                    </div>
                </div>
                <form id="addCusForm">
                    <div class="mb-3">
                        <label class="form-label" for="cusIdAdd">Customer ID</label>
                        <input class="form-control" id="cusIdAdd" name="cusID" type="text"/>
                        <small id="error1">* Customer ID is a required field, Pattern C0001</small>
                    </div>
                    <div class="mb-3">
                        <label class="form-label" for="cusNameAdd">Customer Name</label>
                        <input class="form-control" id="cusNameAdd" name="cusName" type="text"/>
                        <small id="error2">* Customer Name is required field, Min 5 & Max 10</small>
                    </div>
                    <div class="mb-3">
                        <label class="form-label" for="cusAddressAdd">Customer Address</label>
                        <input class="form-control" id="cusAddressAdd" name="cusAddress" type="text"/>
                        <small id="error3">* Customer Address is required field, Min 5</small>
                    </div>
                    <div class="mb-3">
                        <label class="form-label" for="cusSalaryAdd">Customer Salary</label>
                        <input class="form-control" id="cusSalaryAdd" name="cusSalary" type="text"/>
                        <small id="error4">* Customer Address is required field, Ex:500.00</small>
                    </div>

                    <div class="">
                        <button class="btn btn-primary mt-2" data-bs-target="#addCustomer"  id="addCus" type="button"><i class="fa-solid fa-user me-2"></i>Add Customer</button>
                        <button class="btn btn-dark mt-2" data-bs-target="#addCustomer"  id="updateCus" type="button">Update</button>
                        <button class="btn btn-danger mt-2" id="clear-btn-cus" type="button"><i class="bi bi-backspace m-2"></i>Clear</button>
                        <button class="btn btn-warning mt-2" id="delCus" type="button"><i class="fa-solid fa-trash m-1"></i>Delete</button>
                    </div>
                </form>
            </div>
            <div class="w-100 m-5 ">
                <div class="row align-items-center pt-3">
                    <div class="col-12 mt-2">
                        <div class="table-responsive" style="height: 55vh">
                            <table class="table table-light table-striped table table-hover">
                                <thead style="position: sticky;top: 0">
                                <tr>
                                    <th>Customer ID</th>
                                    <th>Name</th>
                                    <th>Address</th>
                                    <th>Salary</th>
                                </tr>
                                </thead>
                                <tbody id="cusTblBody">

                                </tbody>
                            </table>
                        </div>
                    </div>

                </div>
            </div>
        </div>
    </section>
    <!--    order detail    -->
    <section class="container" style="display: none" id="orderDetailsSec">
        <div class="rounded-3 p-3 mt-3" >
            <h1 class="text-center mb-3">
                <i class="m-2"></i>ORDER DETAILS
            </h1>

            <div class="row g-3 align-items-center pb-3 justify-content-between">
                <div class="col-12 col-md-6 col-xl-5">
                    <div class="input-group mb-3" style="height: 10px">
                        <input aria-describedby="btn-order-search" aria-label="Recipient's username"
                               class="form-control" id="txt-order-search"
                               placeholder="Search Order" type="text"/>
                        <button class="btn btn-success" id="btn-order-search" type="button">
                            <i class="bi bi-search m-2"></i>Search
                        </button>
                        <button class="btn btn-danger" id="clear-btn-order" type="button">
                            <i class="bi bi-backspace m-2"></i>Clear
                        </button>
                    </div>
                </div>
                <div class="col-12 col-md-5 col-lg-4 col-xl-3"
                     style="display: flex; align-items: center; justify-content: flex-start;">
                    <div style="display: flex;
                        flex-direction: column;">
                        <div>
                            <h6 class="d-inline">Order ID : </h6>
                            <h6 class="d-inline" id="lblOrderId"></h6>
                        </div>
                        <div>
                            <h6 class="d-inline">Customer ID : </h6>
                            <h6 class="d-inline" id="lblCusId"></h6>
                        </div>
                        <div>
                            <h6 class="d-inline">Date : </h6>
                            <h6 class="d-inline" id="lblDate"></h6>
                        </div>
                        <div>
                            <h6 class="d-inline">Sub Total : </h6>
                            <h6 class="d-inline" id="lblSTotal"></h6>
                        </div>
                    </div>
                </div>
            </div>

            <hr/>
            <div class="row align-items-center pt-3">
                <div class="col-12 mt-2">
                    <div class="table-responsive" style="height: 55vh">
                        <table class="table table-light table-striped">
                            <thead>
                            <tr>
                                <th>Item Code</th>
                                <th>Item Name</th>
                                <th>Unit Price</th>
                                <th>Qty</th>
                                <th>Total</th>
                            </tr>
                            </thead>
                            <tbody id="orderDetailsTblBody">
                            </tbody>
                        </table>
                    </div>
                </div>

            </div>
        </div>
    </section>

</main>
<script src="assets/js/bootstrap.bundle.min.js"></script>
<script src="assets/jQuery/jquery-3.6.0.min.js"></script>
<script src="db/DB.js"></script>
<script src="controllers/CustomerController.js"></script>
<script src="controllers/ItemController.js"></script>
<script src="controllers/OrderController.js"></script>
<script src="controllers/OrderDetailsController.js"></script>
<script src="assets/js/script.js"></script>
<script src="https://kit.fontawesome.com/0137b60f40.js" crossorigin="anonymous"></script>
<script>
    setInterval(function() {
        var currentTime = new Date();
        var hours = currentTime.getHours();
        var minutes = currentTime.getMinutes();
        var seconds = currentTime.getSeconds();

        // Add leading zeros
        hours = (hours < 10 ? "0" : "") + hours;
        minutes = (minutes < 10 ? "0" : "") + minutes;
        seconds = (seconds < 10 ? "0" : "") + seconds;

        // Compose the string for display
        var currentTimeString = hours + ":" + minutes + ":" + seconds;
        $("#Time").text(currentTimeString);
    }, 1000);



    let clock = new Date();

     let date = clock.getFullYear()+"/"+clock.getMonth()+"/"+clock.getDate();
    $("#Date").text(date);






</script>

</body>

</html>